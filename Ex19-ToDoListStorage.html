<!DOCTYPE html>
<html lang="pt-br">
    <head>
        <meta charset="UTF-8">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="pagina">
            <div class="card">
                <input type="text" class="input-list" placeholder="Item para adicionar na lista">
                <button class="btn-add">Adicionar</button>
                <ul class="list"></ul>
            </div>
        </div>
    </body>
</html>

<script>
    const savedData = localStorage.getItem('taskList');

    let tasks = [];

    const inputList = document.querySelector('.input-list');
    const btnAdd = document.querySelector('.btn-add');

    const ul = document.querySelector('.list');

    // Clique Botões
    btnAdd.onclick = () =>{
        const taskName = inputList.value;

        const taskAdd = createTask(taskName);

        tasks.push(taskAdd);
        localStorage.setItem('taskList', JSON.stringify(tasks));

        renderTask();

        inputList.value = "";
    };

    // Funções
    const createTask = (name) =>{
        return {name: name, id: Date.now()};
    };

    const renderTask = () =>{
        ul.innerHTML = "";

        tasks.forEach((item) =>{
            const li = createLi(item);
            const btnRemove = removeButton();
            
            li.appendChild(btnRemove);
            
            ul.appendChild(li);

            btnRemove.onclick = () =>{
                tasks = tasks.filter(t => t.id !== item.id);
                localStorage.setItem('taskList', JSON.stringify(tasks));

                renderTask();
            };
        });
    };

    // Criadores de Elementos
    const createLi = (it) => {
        const li = document.createElement('li');

        li.innerText = it.name;
        li.style.fontSize = "25px";

        return li;
    };

    const removeButton = () => {
        const btnRemove = document.createElement('button');

        btnRemove.innerText = "Remover"
        btnRemove.style.fontWeight = "bold";
        btnRemove.style.width = "70px";
        btnRemove.style.height = "18px";
        btnRemove.style.backgroundColor = "rgba(255, 0, 0, 0.623)";

        return btnRemove;
    };

    // Carregar dados salvos
    if (savedData) {
        tasks = JSON.parse(savedData);
        renderTask();
    }
</script>